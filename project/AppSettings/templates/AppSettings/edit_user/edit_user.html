{% extends 'baseSetting.html' %}
{% block add_user %}
{% load static %}
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>تعديل مستخدم</title>
  <link rel="stylesheet" href="{% static 'AppSettings/css/button.css'%}">

  <link rel="stylesheet" href="{% static 'AppSettings/css/add user style.css'%}">
</head>
<body>
  <div class="main">
    <div class="content">
      <h2>تعديل مستخدم</h2>

      {% if messages %}
        {% for message in messages %}
          <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
      {% endif %}

      <form class="user-form" method="POST" action="{% url 'AppSettings:edit_user_submit' user.id %}">
        {% csrf_token %}
        <input type="text" name="full_name" placeholder="الاسم الكامل" value="{{ user.full_name }}" required />
        <input type="text" name="phone_number" placeholder="رقم الجوال" value="{{ user.phone_number }}" required />
        <input type="text" name="username" placeholder="اسم المستخدم" value="{{ user.username }}" required />

        <input type="password" name="password1" placeholder="كلمة المرور (اختياري)"  value="{{ user.password }}" required  />
        <!-- <input type="password" name="password2" placeholder="تأكيد كلمة المرور (اختياري)" /> -->

        <select name="role" required>
          <option value="موظف" {% if user.role == "موظف" %}selected{% endif %}>موظف</option>
          <option value="مدير" {% if user.role == "مدير" %}selected{% endif %}>مدير</option>
        </select>

        <select name="status" required>
          <option value="active" {% if user.password %}selected{% endif %}>نشط</option>
          <option value="inactive" {% if not user.password %}selected{% endif %}>غير نشط</option>
        </select>

        <button type="submit" class="button">حفظ التعديل</button>
      </form>
    </div>
  </div>
  
</body>

{% endblock %}
